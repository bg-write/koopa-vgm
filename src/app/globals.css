@import "tailwindcss";

@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&family=Space+Mono:wght@400;700&display=swap');

/* Prism.js theme - we'll use our custom colors instead */

@theme {
  --color-koopa-green: #228B22;
  --color-koopa-green-light: #32CD32;
  --color-koopa-green-dark: #006400;
  --color-koopa-cream: #F5DEB3;
  --color-koopa-cream-dark: #DEB887;
  --color-koopa-shell: #8FBC8F;
  --color-koopa-white: #FFFFFF;
  --color-koopa-tan: #D2B48C;
  --color-koopa-yellow: #FFD700;
  --font-sans: Nunito, sans-serif;
  --font-header: Orbitron, sans-serif;
  --font-mono: Space Mono, monospace;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-white text-gray-900 font-sans;
  }
  
  /* Sticky table header support */
  .overflow-x-auto {
    max-height: 70vh;
    overflow-y: auto;
  }
  
  /* Anchor link offset for fixed header */
  h1, h2, h3, h4, h5, h6 {
    scroll-margin-top: 2rem;
  }
  
  /* Smooth scrolling for anchor links */
  a[href^="#"] {
    scroll-behavior: smooth;
  }
}

@layer utilities {
  .duration-800 {
    transition-duration: 800ms;
  }
}

@layer utilities {
  .koopa-gradient {
    background: linear-gradient(to bottom right, var(--color-koopa-green), var(--color-koopa-green-dark));
  }
  
  .koopa-text-gradient {
    background: linear-gradient(to right, var(--color-koopa-green), var(--color-koopa-green-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}

/* Markdown Content Styling */
.markdown-content h1 {
  @apply text-4xl font-bold mb-6;
  font-family: var(--font-header);
  background: linear-gradient(to right, var(--color-koopa-green), var(--color-koopa-green-light));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.markdown-content h2 {
  @apply text-2xl font-semibold text-gray-800 mb-4 mt-8;
  font-family: var(--font-header);
}

.markdown-content h3 {
  @apply text-xl font-medium text-gray-700 mb-3 mt-6;
  font-family: var(--font-header);
}

.markdown-content p {
  @apply text-gray-700 leading-relaxed mb-4;
}

/* Link Styling */
.markdown-content a {
  @apply text-koopa-green underline decoration-koopa-green/60 hover:decoration-koopa-green transition-all duration-200;
}

/* Bullet Points */
.markdown-content ul {
  @apply mb-4 pl-6 list-disc;
}

.markdown-content ol {
  @apply mb-4 pl-6 list-decimal;
}

.markdown-content li {
  @apply text-gray-700 mb-1;
}

.markdown-content li::marker {
  @apply text-gray-700;
}

.markdown-content blockquote {
  @apply border-l-4 pl-4 italic text-gray-600 my-4;
  border-left-color: var(--color-koopa-green);
}

/* Code Styling - Enhanced for Cursor-like appearance */
.markdown-content code {
  @apply bg-gray-100 px-2 py-1 rounded text-sm;
  font-family: var(--font-mono);
  color: #006400 !important; /* koopa-green-dark */
}

.markdown-content pre {
  @apply bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4 border border-gray-700;
  background: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%) !important;
  border: 1px solid #404040 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
  font-family: 'Space Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  letter-spacing: 0.3px !important;
}

.markdown-content pre code {
  @apply bg-transparent text-gray-100 p-0;
  color: #ffffff !important;
  font-family: inherit !important;
  font-size: inherit !important;
  line-height: inherit !important;
  letter-spacing: inherit !important;
}

/* Enhanced syntax highlighting colors for code blocks using Prism.js */
.markdown-content pre .token.keyword {
  color: #569cd6 !important; /* Blue for keywords */
  font-weight: 600 !important;
}

.markdown-content pre .token.string {
  color: #ce9178 !important; /* Orange for strings */
}

.markdown-content pre .token.number {
  color: #b5cea8 !important; /* Light green for numbers */
}

.markdown-content pre .token.comment {
  color: #6a9955 !important; /* Green for comments */
  font-style: italic !important;
}

.markdown-content pre .token.function {
  color: #dcdcaa !important; /* Yellow for functions */
  font-weight: 500 !important;
}

.markdown-content pre .token.class-name {
  color: #4ec9b0 !important; /* Teal for classes */
  font-weight: 600 !important;
}

.markdown-content pre .token.variable {
  color: #9cdcfe !important; /* Light blue for variables */
}

.markdown-content pre .token.operator {
  color: #d4d4d4 !important; /* Light gray for operators */
}

.markdown-content pre .token.punctuation {
  color: #d4d4d4 !important; /* Light gray for punctuation */
}

.markdown-content pre .token.property {
  color: #9cdcfe !important; /* Light blue for properties */
}

.markdown-content pre .token.boolean {
  color: #569cd6 !important; /* Blue for booleans */
}

.markdown-content pre .token.null {
  color: #569cd6 !important; /* Blue for null values */
}

.markdown-content pre .token.tag {
  color: #569cd6 !important; /* Blue for HTML/XML tags */
}

.markdown-content pre .token.attr-name {
  color: #9cdcfe !important; /* Light blue for attribute names */
}

.markdown-content pre .token.attr-value {
  color: #ce9178 !important; /* Orange for attribute values */
}

.markdown-content pre .token.important {
  color: #f44747 !important; /* Red for important keywords */
  font-weight: bold !important;
}

.markdown-content pre .token.builtin {
  color: #4ec9b0 !important; /* Teal for built-in functions */
}

.markdown-content pre .token.regex {
  color: #d16969 !important; /* Red for regex patterns */
}

/* Ensure all tokens are visible against dark background */
.markdown-content pre .token {
  color: #ffffff !important; /* Default white for any unhandled tokens */
}

/* Code block header styling (if you want to add language labels) */
.markdown-content pre::before {
  content: attr(data-language);
  display: block;
  background: #404040;
  color: #d4d4d4;
  padding: 4px 12px;
  font-size: 12px;
  font-weight: 500;
  border-radius: 4px 4px 0 0;
  margin: -16px -16px 16px -16px;
  font-family: 'Nunito', sans-serif;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Base Prism.js styling */
.markdown-content pre[class*="language-"] {
  background: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%) !important;
  border: 1px solid #404040 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
}

.markdown-content pre[class*="language-"] code {
  background: transparent !important;
  color: inherit !important;
}

/* Ensure our custom colors override Prism.js defaults */
.markdown-content pre .token {
  text-shadow: none !important;
}

/* Fallback styling for when Prism.js isn't loaded yet */
.markdown-content pre:not([class*="language-"]) {
  background: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%) !important;
  border: 1px solid #404040 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
}

/* Ensure all code blocks have the right font and spacing */
.markdown-content pre {
  font-family: 'Space Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  letter-spacing: 0.3px !important;
}

/* Force code colors with higher specificity */
.markdown-content p code,
.markdown-content li code {
  color: #006400 !important;
  background-color: #f3f4f6 !important;
}

.markdown-content pre code {
  color: #ffffff !important;
  background-color: transparent !important;
}

/* Table Styling */
.markdown-content table {
  @apply w-full border-collapse border border-gray-300 mb-4;
}

.markdown-content th {
  @apply bg-koopa-green text-white p-3 text-left font-semibold;
}

.markdown-content td {
  @apply p-3 border border-gray-300;
}

/* Image Styling */
.markdown-content img {
  @apply max-w-full h-auto rounded-lg shadow-lg;
}

/* Tableau embed spacing */
.tableau-embed {
  margin-bottom: 4rem !important;
  margin-top: 1rem !important;
  position: relative !important;
}

/* Ensure Tableau content doesn't overflow its container */
.tableau-embed tableau-viz {
  display: block !important;
  position: relative !important;
}

/* Additional containment for Tableau content */
.tableau-embed > * {
  position: relative !important;
}



/* Add bottom margin to the last chart element within Tableau */
.tableau-embed > *:last-child {
  margin-bottom: 0.5rem !important;
}

/* Mobile-specific spacing and layout fixes */
@media (max-width: 768px) {
  .markdown-content h2 {
    @apply mt-6 mb-3;
  }
  
  /* Extra spacing for the first chart heading on mobile */
  .markdown-content h2:first-of-type {
    margin-top: 4.5rem !important;
  }
  
  .markdown-content h3 {
    @apply mt-4 mb-2;
  }
  
  .markdown-content img {
    @apply mb-4;
    margin-top: 1rem;
  }
  
  .markdown-content p {
    @apply mb-3;
  }
  
  .markdown-content ul,
  .markdown-content ol {
    @apply mb-3 pl-4;
  }
  
  /* Additional spacing for Tableau embeds on mobile */
  .tableau-embed {
    margin-bottom: 3.5rem !important;
  }
  
  /* Ensure proper separation between chart sections */
.markdown-content h2:first-of-type {
  margin-top: 5rem !important;
}
  
  /* Mobile-specific Tableau content containment */
  .tableau-embed tableau-viz {
    display: block !important;
  }
  

}

/* Specific image styling */
.markdown-content img[src*="tableau_dashboard_v1"] {
  @apply border-2 border-black;
}

.markdown-content img[src*="Koopa_Troopa_by_Shigehisa_Nakaue"] {
  @apply transform scale-x-[-1] shadow-none rounded-none; /* Flip horizontally, no shadow/corners */
}

/* Remove span IDs from display */
.markdown-content span[id] {
  display: contents !important;
}

/* Force hide any remaining span tags that shouldn't be visible */
.markdown-content span:not([id]) {
  display: inline;
}

/* Specific fix for span tags that might be showing up */
.markdown-content h1 span,
.markdown-content h2 span,
.markdown-content h3 span,
.markdown-content h4 span,
.markdown-content h5 span,
.markdown-content h6 span {
  display: contents !important;
}

/* Koopa walking animation */
@keyframes walking {
  0%, 100% {
    transform: scaleX(-1) translateY(0px) rotate(0deg);
  }
  25% {
    transform: scaleX(-1) translateY(-5px) rotate(2deg);
  }
  50% {
    transform: scaleX(-1) translateY(-10px) rotate(0deg);
  }
  75% {
    transform: scaleX(-1) translateY(-5px) rotate(-2deg);
  }
}

/* More aggressive span hiding */
.markdown-content span {
  display: contents !important;
}

/* But allow spans in code blocks to display normally */
.markdown-content pre span,
.markdown-content code span {
  display: inline !important;
}
